<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Function Island | Dapps and Games on TRON">
        <meta name="author" content="Function Island">
        <title>Function Island | D1VS</title>

        <!-- Alertify CSS -->
        <link rel="stylesheet" href="assets/css/alertify.min.css">
        <link rel="stylesheet" href="assets/css/themes/bootstrap.min.css">
        
        <!-- Core CSS -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/custom.css">
        
        <link rel="icon" type="image/png" href="assets/img/logo.png" />

        <!-- FontAwesome -->
        <script src="https://kit.fontawesome.com/f352960784.js" crossorigin="anonymous"></script>
    </head>
    
    <body class="text-white">
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark blackNavbar fixed-top">
                <a class="navbar-brand" href="index.html"><img src="assets/img/logo.png" width="25px" height="25px" class="rounded-circle" /> FunctionIsland</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarColor03">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item"><a class="nav-link" href="divs.html"><span><i class="fas fa-hand-holding-usd text-white"></i> D1VS</span></a></li>
                    </ul>
                
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-share-alt text-white"></i> Social</a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="https://twitter.com/FunctionIsland"><i class="fab fa-twitter"></i> Twitter</a>
                                <a class="dropdown-item" href="https://t.me/FunctionIsland"><i class="fab fa-telegram"></i> Telegram</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="https://discord.gg/FmCEbPU"><i class="fab fa-discord"></i> Discord</a>
                            </div>
                        </li>
                        
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-info-circle text-white"></i> <span>Info</span></a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="faqs.html"><i class="fas fa-question text-dark"></i> FAQs</a>
                                <a class="dropdown-item" href="https://github.com/FunctionIsland" target="_blank"><i class="fab fa-github text-dark"></i> <span>GitHub</span></a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="onboard.html"><i class="fas fa-wallet text-dark"></i> TRON Wallets</a>
                            </div>
                        </li>
                        
                        <li class="nav-item"><a class="nav-link" href="names.html"><i class="fas fa-user text-white"></i> <span class="arcTag">Player</span></a></li>
                    </ul>
                </div>
            </nav>
        </header>
        
        <main>
            <div class="row jumbotron glassPanel" style="margin-top: 55px;">
                <div class="container">
                    <div class="row text-center">
                        <div class="col text-center">
                            <img src="assets/img/beluga.png" width="100px" height="100px" class="rounded-circle" />
                            <h3><span>D1VS Game</span></h3>
                            <small class="text-white">Buy &amp; HODL D1VS, and earn TRX Dividends!</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container" id="root">
                <div class="row">
                    <div class="col text-center">
                        <div class="card glassPanel roundedCorners">
                            <div class="card-header text-center">Please remember, this is a GAME, not an investment! Only play with TRX you can afford to lose! <a href="#" data-toggle="modal" data-target="#termsModal">More Info &gt;</a></div>
                        </div>
                    </div>
                </div>
                <br />
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="card glassPanel roundedCorners">
                            <div class="card-header">My D1VS <small>(Approx. <span id="supplyPercentage">0</span>&#37; of the Total Supply)</small></div>
                            <div class="card-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <h3>
                                                <img src="assets/img/beluga.png" width="25px" height="25px" /><br />
                                                <span class="user-token-balance text-white">0.00000000</span> D1VS
                                            </h3>
                                            <p>
                                                <span id="user-trx-balance">0.00000000</span> TRX ($<span id="user-usd-balance" class="text-white">0.00</span> USD)
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <a class="btn btn-block btn-md btn-dark silverBorder text-white roundedCorners" href="#" data-toggle="modal" data-target="#sendDivsModal"><i class="fas fa-arrow-up"></i> Send</a>
                                        </div>

                                        <div class="col text-center">
                                            <a class="btn btn-block btn-md btn-dark silverBorder text-white roundedCorners" href="#" data-toggle="modal" data-target="#receiveDivsModal"><i class="fas fa-arrow-down"></i> Receive</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>

                    <div class="col-md-6">
                        <div class="card glassPanel roundedCorners">
                            <div class="card-header">My Earnings</div>
                            <div class="card-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <h3 class="text-white">
                                                <img src="assets/img/tron.png" width="25px" height="25px" /><br />
                                                <span class="user-dividends">0.00000000</span> TRX
                                            </h3>
                                            <p>My Dividends</p>
                                        </div>

                                        <div class="col text-center">
                                            <h3 class="text-white">
                                                <img src="assets/img/dollar.png" width="25px" height="25px" /><br />
                                                + &#36;<span id="user-dividends-usd" class="text-white">0.00</span> USD
                                            </h3>
                                            <p>Growth on Reinvest</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <button class="btn btn-block btn-dark silverBorder text-white btn-reinvest roundedCorners"><b><i class="fas fa-recycle"></i> +<span id="user-reinvest">0.00</span> D1VS</b></button>
                                        </div>

                                        <div class="col text-center">
                                            <button class="btn btn-block btn-dark silverBorder text-white btn-withdraw roundedCorners"><i class="fas fa-hand-holding-usd"></i> Withdraw</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card glassPanel roundedCorners text-left">
                            <div class="card-header">Buy D1VS</div>
                            <div class="card-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <small>Current Price:</small>
                                            <h1 class="text-white"><img src="assets/img/tron.png" width="35px" height="35px" /> <span id="rate-to-buy">0</span> TRX</h1>
                                        </div>
                                    </div>
                                    <hr />

                                    <div class="row">
                                        <!-- TRX Buy Input -->
                                        <div class="col text-center">
                                            <label class="text-left">TRX to Spend:</label>
                                            <input type="number" class="form-control roundedCorners buy-input" min="1" step="1" placeholder="TRX to spend" onkeypress="return event.charCode >= 48 && event.charCode <= 57" title="Numbers only" />
                                            <b class="text-center">WHOLE NUMBERS ONLY, NO DECIMALS</b><br />
                                            <small>Every D1VS purchase incurs a 10&#37; Dividend Fee.</small>
                                        </div>
                                    </div>
                                    <hr />

                                    <div class="row">
                                        <div class="col text-left">
                                            <label>Approx. D1VS:</label>
                                            <input type="text" class="form-control roundedCorners text-dark token-input-buy" readonly="" value="0.00000000">
                                        </div>
                                        
                                        <div class="col text-left">
                                            <label>USD Value:</label>
                                            <input type="text" class="form-control roundedCorners text-dark" placeholder="USD Value" id="usdBuyValue" readonly="" />
                                            <small>&#42;Approx. only</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="container">
                                    <div class="row">
                                        <button class="btn btn-block btn-lg btn-success btn-buy buy-token-button roundedCorners" id="buyTokensButton" style="display: none;">Buy D1VS</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>

                    <div class="col-md-6">
                        <div class="card glassPanel roundedCorners text-left">
                            <div class="card-header">Sell D1VS</div>
                            <div class="card-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col text-center">
                                            <small>Current Value:</small>
                                            <h1 class="text-white"><img src="assets/img/tron.png" width="35px" height="35px" /> <span id="rate-to-sell">0</span> TRX</h1>
                                        </div>
                                    </div>
                                    <hr />

                                    <div class="row">
                                        <div class="col text-center">
                                            <label class="text-left">D1VS to Sell:</label>
                                            <input type="number" class="form-control roundedCorners sell-input" min="1" step="1" placeholder="Amount of D1VS" onkeypress="return event.charCode >= 48 && event.charCode <= 57" title="Numbers only">
                                            <b class="text-center">WHOLE NUMBERS ONLY, NO DECIMALS</b><br />
                                            <small>Every D1VS sale incurs a 10&#37; Dividend Fee.</small>
                                        </div>
                                    </div>
                                    <hr />

                                    <div class="row">
                                        <div class="col text-left">
                                            <label>TRX Value:</label>
                                            <input type="text" class="form-control roundedCorners token-input-sell" readonly="" value="0.00000000">
                                        </div>
                                        
                                        <div class="col text-left">
                                            <label>USD Value:</label>
                                            <input type="text" class="form-control roundedCorners" placeholder="USD Value" id="usdSellValue" readonly="" />
                                            <small>&#42;Approx. only</small>
                                        </div>
                                    </div>
                                    
                                    
                            </div>
                            </div>
                            <div class="card-footer">
                                <div class="container">
                                    <div class="row">
                                        <button id="sellButton" class="btn btn-block btn-lg btn-danger btn-buy sell-token-button roundedCorners" style="display: none;">Sell D1VS</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <a class="btn btn-block btn-lg btn-light whiteBorder roundedCorners"  href="#" data-toggle="modal" data-target="#rainmakerModal"><i class="fas fa-tint"></i> Price Floor</a><br />
                    </div>

                    <div class="col-md-6">
                        <a class="btn btn-block btn-lg btn-light whiteBorder roundedCorners" href="https://tronscan.org/#/contract/TJ9KV8DdVhVbPAMWVHEHYnXBA4vqLwk6Jr/code" target="_blank"><i class="fas fa-search-dollar"></i> View Contract</a><br />
                    </div>
                </div>
                <hr />
                
                <div class="row jumbotron glassPanel roundedCorners text-dark">
                    <div class="container">
                        <div class="row">
                            <div class="col text-center">
                                <br />
                                <h3 class="text-white">Here&apos;s your Link...</h3>
                                <input id="ref-url" class="form-control text-center text-secondary" value="" readonly="" /><br />
                                <button type="button" id="copyButton" data-clipboard-target="#ref-url" onclick="return false;" class="btn btn-block btn-md btn-success roundedCorners">
                                    Copy Link
                                </button>
                                <small class="text-white">When others use your link to buy D1VS, you get a 3&#37; commission!</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row jumbotron glassPanel roundedCorners text-dark">
                    <div class="container">
                        <div class="row"><div class="col text-white text-center"><h3>Contract Value Data</h3></div></div>
                        <div class="row">
                            <div class="col text-center">
                                <br />
                                <h3 class="text-danger">
                                    <span class="badge badge-pill badge-danger">
                                        <span id="contract-trx-balance">0</span> TRX
                                    </span>
                                </h3>
                                <p class="text-white">Contract Holdings</p>
                            </div>
                            
                            <div class="col text-center">
                                <br />
                                <h3 class="text-white">
                                    <span class="badge badge-pill badge-success">
                                        &#36;<span style="display: inline" id="supply-value-usd">0</span> USD
                                    </span>
                                </h3>
                                <p class="text-white">USD Value</p>
                            </div>

                            <div class="col text-center">
                                <br />
                                <h3 class="text-white">
                                    <span class="badge badge-pill badge-light">
                                        <span style="display: inline" id="contract-token-balance">0</span> DIVS
                                    </span>
                                </h3>
                                <p class="text-white">Total Supply</p>
                            </div>
                            
                            <div class="col text-center">
                                <br />
                                <h3 class="text-danger">
                                    <span class="badge badge-pill badge-warning">
                                        <span id="supply-value-btc">0</span> BTC
                                    </span>
                                </h3>
                                <p class="text-white">Game value (in BTC)</p>
                            </div>
                            
                            <div class="col text-center">
                                <br />
                                <h3 class="text-danger">
                                    <span class="badge badge-pill badge-info">
                                        <span id="supply-value-eth">0</span> ETH
                                    </span>
                                </h3>
                                <p class="text-white">Game value (in ETH)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer id="theFooter" class="py-5 px-5 glassPanel rcTop text-white">
            <div class="row">
                <div class="col text-center">
                    <b>Terms of Use</b>
                    <small class="d-block mb-3 text-white">
                        &quot;Function Island&quot;, is provided on an &quot;As-Is&quot; basis, with zero guarantee of bug-free operation, profit or stability.<br />
                        The Dapps and games hosted on this site have <b>NOT</b> been audited - rigorous public audit is encouraged!<br />
                        You should only use or deposit funds you are willing to lose on Function Island.<br />
                        <b>NOBODY EXCEPT YOU</b> will be held responsible for any losses you may incur as a result of using Function Island.
                    </small>
                </div>
            </div>
        </footer>
        
        <!-- Bottom Nav -->
        <nav class="navbar fixed-bottom navbar-expand-sm navbar-dark" style="background-color: rgba(0,0,0,1);">
            <ul class="navbar-nav mr-auto ml-auto">
                <script src="https://widgets.coingecko.com/coingecko-coin-price-marquee-widget.js"></script>
                <coingecko-coin-price-marquee-widget  coin-ids="tron,sun-token,tether,just-stablecoin,bitcoin,ethereum" currency="usd" background-color="#000000" locale="en" font-color="#ffffff"></coingecko-coin-price-marquee-widget>
            </ul>
        </nav>

        <!-- MODALS -->
        <div class="modal" id="sendDivsModal">
            <div class="modal-dialog">
                <div class="modal-content bg-dark roundedCorners">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title text-white">Send D1VS</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-4">
                                    <label>Quantity</label>
                                    <input type="text" class="form-control roundedCorners transfer-input" placeholder="D1VS to Send..." />
                                </div>
                                <div class="col-md-8">
                                    <label>Recipient Address</label>
                                    <input type="text" class="form-control roundedCorners recipient-input" placeholder="Address to send D1VS to..." />
                                </div>
                            </div>
                            <br />
                                
                            <div class="row">
                                <div class="col text-center">
                                    <button class="btn btn-info btn-block roundedCorners btn-sell transfer-token-button"><i class="fas fa-arrow-up"></i> Send D1VS <i class="fas fa-arrow-up"></i></button>
                                    <small>Sending D1VS incurs a 10&#37; Dividend Fee from the total sent.</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        
        <div class="modal" id="receiveDivsModal">
            <div class="modal-dialog">
                <div class="modal-content bg-dark roundedCorners">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Receive D1VS</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
                            <div class="row">
                                <div class="col text-center">
                                    <img id="qrImage" src="#" class="roundedCorners" alt="Your Crop Address as a QR Code"><br />
                                    <small>Scan this QR Code to tip <span class="arcTag">Player</span>!</small>
                                    <br />
                                    <br />
                                    <b>TRON Address: </b><br />
                                    <small id="myTronAddr"></small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-block -md btn-danger roundedCorners" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        
        <div class="modal" id="termsModal">
            <div class="modal-dialog">
                <div class="modal-content bg-dark roundedCorners">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Terms of Use</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
                            <div class="row">
                                <div class="col text-center">
                                    <p>
                                        &quot;Function Island&quot;, is provided on an &quot;As-Is&quot; basis, with zero guarantee of bug-free operation, profit or stability.<br />
                                        The Dapps and games hosted on this site have <b>NOT</b> been audited - You should only use or deposit funds you are willing to lose on Function Island.<br />
                                        <b>NOBODY EXCEPT YOU</b> will be held responsible for any losses you may incur as a result of using Function Island.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-block -md btn-danger roundedCorners" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        
        <div class="modal" id="rainmakerModal">
            <div class="modal-dialog">
                <div class="modal-content bg-dark roundedCorners">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Price Floor</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">
                            <div class="row">
                                <div class="col text-center">
                                    <h3>
                                        <img src="assets/img/tron.png" width="25px" height="25px" /><br />
                                        <span id="rainmakerDividends">0</span> TRX
                                    </h3>
                                    <small>Pricefloor Earnings</small>
                                </div>
                                
                                <div class="col text-center">
                                    <h3>
                                        <img src="assets/img/logo.png" width="25px" height="25px" /><br />
                                        <span id="rainmakerTokens">0</span> D1VS
                                    </h3>
                                    <small>Providing Permanent Value</small>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col text-center">
                                    <br />
                                    <small>
                                        The button below tells the PriceFloor contract to buy as much D1VS as it can with the Dividends it has earned. This has the effect of raising the minimum price which D1VS will ever be sold at - and since the Price Floor contract can never sell, transfer or destroy its D1VS, this minimum value will only grow larger over time as the D1VS platform is used.
                                    </small>
                                    <br />
                                    <br />
                                    <button id="makeItRainTx" class="btn btn-block btn-md btn-success roundedCorners" href="#">Raise Price Floor</button><br />
                                    <a class="btn btn-block btn-md btn-light roundedCorners" href="https://tronscan.org/#/contract/TRrLSZknfHCS8ejYoffGsH5EeRQ4WwT2Mt/code" target="_blank">View Pricefloor Contract</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-block -md btn-danger roundedCorners" data-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/popper.min.js"></script>
		<script src="assets/js/bootstrap.min.js"></script>
		<script src="assets/js/alertify.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
        
		<script src="assets/dapps/hourglass.js"></script>
        <script src="assets/dapps/usernameSystem/viewUsername.js"></script>
        
	   <script type="text/javascript">
           var clipboard = new ClipboardJS('#copyButton');

           clipboard.on('success', function(e) {
               console.log(e);
               alertify.success('Copied Link');
           });

           clipboard.on('error', function(e) {
               console.log(e);
               alertify.error('Did not Copy Link');
           });
           
			function getCookie(name) {
				var dc = document.cookie;
				var prefix = name + "=";
				var begin = dc.indexOf("; " + prefix);

				if (begin == -1) {
                    begin = dc.indexOf(prefix);
                    if (begin != 0) return null;
                } else {
                    begin += 2;
					var end = document.cookie.indexOf(";", begin);
					if (end == -1) {
                        end = dc.length;
                    }
                }

                return decodeURI(dc.substring(begin + prefix.length, end));
            }

           var url_string = window.location.href;
           var url = new URL(url_string);
           var theCookie = "masternode=" + url.searchParams.get("masternode");

           if (url.searchParams.get("masternode") !== null) {
               var toSet = "masternode=" + url.searchParams.get("masternode");
               console.log(url.searchParams.get("masternode"));
               document.cookie=theCookie;
           } else {

               var refCookie = getCookie("masternode");
               console.log(refCookie);
               if (refCookie === null) {
                   console.log("Ref cookie was null. Setting to default.");
                   document.cookie = "masternode=TRrLSZknfHCS8ejYoffGsH5EeRQ4WwT2Mt";
               } else {
                   // do nothing if the cookie is already set and there is no new mnode link
               }
			 }
		  </script>
    </body>
</html>